<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>í•´ìš”ì²´ vs í•˜ì‹­ì‹œì˜¤ì²´ í€´ì¦ˆ</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Noto Sans KR', sans-serif;
            touch-action: manipulation;
        }
        .quiz-screen { display: none; }
        .quiz-screen.active { display: block; }
        .dialogue-box {
            border: 2px solid #e5e7eb;
            padding: 1rem;
            border-radius: 0.75rem;
            margin-bottom: 1.5rem;
        }
    </style>
</head>
<body class="bg-slate-100 flex items-center justify-center min-h-screen p-4">

    <div id="app-container" class="w-full max-w-lg mx-auto bg-white rounded-2xl shadow-xl p-6 md:p-8 transform transition-all">

        <!-- ì‹œì‘ í™”ë©´ -->
        <div id="start-screen" class="quiz-screen active text-center">
            <h1 class="text-3xl font-bold text-center text-slate-800 mb-2">í•´ìš”ì²´ vs. í•˜ì‹­ì‹œì˜¤ì²´</h1>
            <p class="text-center text-slate-500 mb-8">ëŒ€í™” ìƒí™©ì— ë§ëŠ” ë¬¸ì¥ ëë§ºìŒì„ ê³¨ë¼ë³´ì„¸ìš”.</p>
            <button onclick="startQuiz()" class="w-full bg-blue-500 hover:bg-blue-600 text-white font-bold py-4 px-4 rounded-lg text-lg transition-transform transform hover:scale-105 shadow-md">
                í€´ì¦ˆ ì‹œì‘í•˜ê¸°
            </button>
        </div>
        
        <!-- í€´ì¦ˆ í™”ë©´ -->
        <div id="quiz-screen" class="quiz-screen">
             <div class="flex items-center justify-between mb-6">
                 <h2 class="text-2xl font-bold text-slate-700">í€´ì¦ˆ</h2>
                 <div id="quiz-progress" class="text-lg font-semibold text-slate-500"></div>
            </div>
            <div class="dialogue-box">
                <p id="speaker-a" class="text-lg mb-2"><span class="font-bold text-blue-600">A:</span> </p>
                <p id="speaker-b" class="text-lg"><span class="font-bold text-emerald-600">B:</span> </p>
            </div>
            <div id="options" class="grid grid-cols-1 gap-4"></div>
            <div id="feedback" class="mt-6 text-center text-md min-h-[6rem]"></div>
        </div>

        <!-- ì¢…ë£Œ í™”ë©´ -->
        <div id="end-screen" class="quiz-screen text-center">
            <h2 class="text-3xl font-bold text-slate-800 mb-4">í€´ì¦ˆ ì™„ë£Œ!</h2>
            <div class="bg-blue-50 p-6 rounded-lg mb-6">
                <p class="text-lg text-slate-600">ìµœì¢… ì ìˆ˜</p>
                <p id="score" class="text-6xl font-bold text-blue-500 my-2"></p>
            </div>
            <button onclick="startQuiz()" class="w-full bg-gray-700 hover:bg-gray-800 text-white font-bold py-3 px-4 rounded-lg text-lg transition-transform transform hover:scale-105 shadow-md">
                ë‹¤ì‹œ í’€ê¸°
            </button>
        </div>

    </div>

    <script>
        // --- ë°ì´í„° ---
        const questions = [
            {
                dialogue: { a: "ì˜¤ëŠ˜ ë¬´ìŠ¨ ìš”ì¼ì…ë‹ˆê¹Œ?", b: "ì˜¤ëŠ˜ì€ {blank}." },
                options: ["ì›”ìš”ì¼ì´ì—ìš”", "ì›”ìš”ì¼ì…ë‹ˆë‹¤"],
                answer: "ì›”ìš”ì¼ì…ë‹ˆë‹¤",
                explanation: "Aê°€ ê²©ì‹ì²´('-ã…‚ë‹ˆê¹Œ?')ë¡œ ë¬¼ì—ˆìœ¼ë¯€ë¡œ, Bë„ ê²©ì‹ì²´('-ã…‚ë‹ˆë‹¤')ë¡œ ëŒ€ë‹µí•˜ëŠ” ê²ƒì´ ìì—°ìŠ¤ëŸ¬ì›Œìš”."
            },
            {
                dialogue: { a: "ì‹¤ë¡€ì§€ë§Œ, ì—¬ê¸°ê°€ ì–´ë””ì˜ˆìš”?", b: "ì—¬ê¸°ëŠ” {blank}." },
                options: ["ì‹œì²­ì…ë‹ˆë‹¤", "ì‹œì²­ì´ì—ìš”"],
                answer: "ì‹œì²­ì´ì—ìš”",
                explanation: "Aê°€ ë¹„ê²©ì‹ì²´('-ì˜ˆìš”?')ë¡œ ë¬¼ì—ˆìœ¼ë¯€ë¡œ, Bë„ ë¹„ê²©ì‹ì²´('-ì´ì—ìš”')ë¡œ ëŒ€ë‹µí•˜ëŠ” ê²ƒì´ ìì—°ìŠ¤ëŸ¬ì›Œìš”."
            },
            {
                dialogue: { a: "ì–´ì œ ì €ë…ì— ë¬´ì—‡ì„ ë“œì…¨ìŠµë‹ˆê¹Œ?", b: "ì €ëŠ” ê¹€ì¹˜ì°Œê°œë¥¼ {blank}." },
                options: ["ë¨¹ì—ˆì–´ìš”", "ë¨¹ì—ˆìŠµë‹ˆë‹¤"],
                answer: "ë¨¹ì—ˆìŠµë‹ˆë‹¤",
                explanation: "Aê°€ ê²©ì‹ì²´('-ì—ˆìŠµë‹ˆê¹Œ?')ë¡œ ë¬¼ì—ˆìœ¼ë¯€ë¡œ, Bë„ ê²©ì‹ì²´('-ì—ˆìŠµë‹ˆë‹¤')ë¡œ ëŒ€ë‹µí•˜ëŠ” ê²ƒì´ ìì—°ìŠ¤ëŸ¬ì›Œìš”."
            },
            {
                dialogue: { a: "ì˜¤ëŠ˜ ë‚ ì”¨ê°€ ì–´ë•Œìš”?", b: "ë‚ ì”¨ê°€ ì•„ì£¼ {blank}." },
                options: ["ì¢‹ì•„ìš”", "ì¢‹ìŠµë‹ˆë‹¤"],
                answer: "ì¢‹ì•„ìš”",
                explanation: "Aê°€ ë¹„ê²©ì‹ì²´('-ì•„ìš”?')ë¡œ ë¬¼ì—ˆìœ¼ë¯€ë¡œ, Bë„ ë¹„ê²©ì‹ì²´('-ì•„ìš”')ë¡œ ëŒ€ë‹µí•˜ëŠ” ê²ƒì´ ìì—°ìŠ¤ëŸ¬ì›Œìš”."
            },
            {
                dialogue: { a: "ê°€ë°©ì´ ì•„ì£¼ ë¬´ê±°ì›Œ ë³´ì…ë‹ˆë‹¤.", b: "ë„¤, ì •ë§ {blank}." },
                options: ["ë¬´ê±°ì›Œìš”", "ë¬´ê²ìŠµë‹ˆë‹¤"],
                answer: "ë¬´ê²ìŠµë‹ˆë‹¤",
                explanation: "Aê°€ ê²©ì‹ì²´('-ã…‚ë‹ˆë‹¤')ë¡œ ë§í–ˆìœ¼ë¯€ë¡œ, Bë„ ê²©ì‹ì²´('-ã…‚ë‹ˆë‹¤')ë¡œ ëŒ€ë‹µí•˜ëŠ” ê²ƒì´ ìì—°ìŠ¤ëŸ¬ì›Œìš”."
            },
            {
                dialogue: { a: "A: ì˜í™” ë³¼ê¹Œìš”?", b: "B: ë„¤, ì˜í™” {blank}." },
                options: ["ë´ìš”", "ë´…ë‹ˆë‹¤"],
                answer: "ë´ìš”",
                explanation: "ì¹œê·¼í•˜ê²Œ ì œì•ˆí•˜ëŠ” '-ã„¹ê¹Œìš”?'ëŠ” ë³´í†µ ë¹„ê²©ì‹ì ì¸ ìƒí™©ì—ì„œ ì‚¬ìš©ë˜ë¯€ë¡œ, '-ì•„ìš”/ì–´ìš”'ë¡œ ëŒ€ë‹µí•˜ëŠ” ê²ƒì´ ìì—°ìŠ¤ëŸ¬ì›Œìš”."
            },
            {
                dialogue: { a: "ì§€ê¸ˆ ì–´ë””ì— ê°‘ë‹ˆê¹Œ?", b: "ë„ì„œê´€ì— {blank}." },
                options: ["ê°€ìš”", "ê°‘ë‹ˆë‹¤"],
                answer: "ê°‘ë‹ˆë‹¤",
                explanation: "Aê°€ ê²©ì‹ì²´('-ã…‚ë‹ˆê¹Œ?')ë¡œ ë¬¼ì—ˆìœ¼ë¯€ë¡œ, Bë„ ê²©ì‹ì²´('-ã…‚ë‹ˆë‹¤')ë¡œ ëŒ€ë‹µí•˜ëŠ” ê²ƒì´ ìì—°ìŠ¤ëŸ¬ì›Œìš”."
            },
            {
                dialogue: { a: "ì£¼ë§ì— ë³´í†µ ë­ í•´ìš”?", b: "ì €ëŠ” ì§‘ì—ì„œ {blank}." },
                options: ["ì‰¬ì–´ìš”", "ì‰½ë‹ˆë‹¤"],
                answer: "ì‰¬ì–´ìš”",
                explanation: "Aê°€ ë¹„ê²©ì‹ì²´('-í•´ìš”?')ë¡œ ë¬¼ì—ˆìœ¼ë¯€ë¡œ, Bë„ ë¹„ê²©ì‹ì²´('-ì–´ìš”')ë¡œ ëŒ€ë‹µí•˜ëŠ” ê²ƒì´ ìì—°ìŠ¤ëŸ¬ì›Œìš”."
            },
            {
                dialogue: { a: "ì´ë¦„ì´ ë¬´ì—‡ì…ë‹ˆê¹Œ?", b: "ì œ ì´ë¦„ì€ ê¹€ë¯¼ì¤€{blank}." },
                options: ["ì´ì—ìš”", "ì…ë‹ˆë‹¤"],
                answer: "ì…ë‹ˆë‹¤",
                explanation: "Aê°€ ê²©ì‹ì²´('-ã…‚ë‹ˆê¹Œ?')ë¡œ ë¬¼ì—ˆìœ¼ë¯€ë¡œ, Bë„ ê²©ì‹ì²´('-ì…ë‹ˆë‹¤')ë¡œ ëŒ€ë‹µí•˜ëŠ” ê²ƒì´ ìì—°ìŠ¤ëŸ¬ì›Œìš”."
            },
            {
                dialogue: { a: "êµì‹¤ì— í•™ìƒì´ ìˆì–´ìš”?", b: "ë„¤, {blank}." },
                options: ["ìˆì–´ìš”", "ìˆìŠµë‹ˆë‹¤"],
                answer: "ìˆì–´ìš”",
                explanation: "Aê°€ ë¹„ê²©ì‹ì²´('-ì–´ìš”?')ë¡œ ë¬¼ì—ˆìœ¼ë¯€ë¡œ, Bë„ ë¹„ê²©ì‹ì²´('-ì–´ìš”')ë¡œ ëŒ€ë‹µí•˜ëŠ” ê²ƒì´ ìì—°ìŠ¤ëŸ¬ì›Œìš”."
            },
            {
                dialogue: { a: "ì´ ì‚¬ê³¼ ì–¼ë§ˆì…ë‹ˆê¹Œ?", b: "ì²œ ì›{blank}." },
                options: ["ì´ì—ìš”", "ì…ë‹ˆë‹¤"],
                answer: "ì…ë‹ˆë‹¤",
                explanation: "Aê°€ ê²©ì‹ì²´('-ã…‚ë‹ˆê¹Œ?')ë¡œ ë¬¼ì—ˆìœ¼ë¯€ë¡œ, Bë„ ê²©ì‹ì²´('-ì…ë‹ˆë‹¤')ë¡œ ëŒ€ë‹µí•˜ëŠ” ê²ƒì´ ìì—°ìŠ¤ëŸ¬ì›Œìš”."
            },
            {
                dialogue: { a: "ì»¤í”¼ ë§ˆì‹¤ë˜ìš”?", b: "ë„¤, {blank}." },
                options: ["ì¢‹ì•„ìš”", "ì¢‹ìŠµë‹ˆë‹¤"],
                answer: "ì¢‹ì•„ìš”",
                explanation: "ì¹œê·¼í•˜ê²Œ ê¶Œìœ í•˜ëŠ” '-ã„¹ë˜ìš”?'ëŠ” ë¹„ê²©ì‹ì ì¸ ìƒí™©ì´ë¯€ë¡œ, '-ì•„ìš”'ë¡œ ëŒ€ë‹µí•˜ëŠ” ê²ƒì´ ìì—°ìŠ¤ëŸ¬ì›Œìš”."
            }
        ];

        // --- ìƒíƒœ ë³€ìˆ˜ ---
        let currentQuestions = [];
        let currentQuestionIndex = 0;
        let score = 0;
        let isAnswered = false;

        // --- DOM ìš”ì†Œ ---
        const startScreen = document.getElementById('start-screen');
        const quizScreen = document.getElementById('quiz-screen');
        const endScreen = document.getElementById('end-screen');
        const progressEl = document.getElementById('quiz-progress');
        const scoreEl = document.getElementById('score');
        const speakerA_El = document.getElementById('speaker-a');
        const speakerB_El = document.getElementById('speaker-b');
        const optionsEl = document.getElementById('options');
        const feedbackEl = document.getElementById('feedback');

        function shuffle(array) {
            return array.sort(() => Math.random() - 0.5);
        }

        function showScreen(screenId) {
            document.querySelectorAll('.quiz-screen').forEach(screen => screen.classList.remove('active'));
            document.getElementById(screenId).classList.add('active');
        }

        function startQuiz() {
            currentQuestions = shuffle([...questions]);
            currentQuestionIndex = 0;
            score = 0;
            isAnswered = false;
            loadNextQuestion();
            showScreen('quiz-screen');
        }

        function loadNextQuestion() {
            if (currentQuestionIndex >= currentQuestions.length) {
                showEndScreen();
                return;
            }
            isAnswered = false;
            feedbackEl.innerHTML = '';
            progressEl.textContent = `${currentQuestionIndex + 1} / ${currentQuestions.length}`;
            
            const q = currentQuestions[currentQuestionIndex];
            
            speakerA_El.innerHTML = `<span class="font-bold text-blue-600">A:</span> ${q.dialogue.a}`;
            speakerB_El.innerHTML = `<span class="font-bold text-emerald-600">B:</span> ${q.dialogue.b.replace('{blank}', `<span class="inline-block min-w-[5rem] text-center border-b-2 border-slate-400 font-bold">?</span>`)}`;
            
            optionsEl.innerHTML = '';
            shuffle([...q.options]).forEach(option => {
                const button = document.createElement('button');
                button.textContent = option;
                button.className = "w-full p-4 border-2 rounded-lg text-lg font-semibold transition-all duration-200 shadow-sm bg-white text-slate-700 border-slate-300 hover:border-blue-400";
                button.onclick = () => checkAnswer(option);
                optionsEl.appendChild(button);
            });
        }

        function checkAnswer(answer) {
            if (isAnswered) return;
            isAnswered = true;
            optionsEl.querySelectorAll('button').forEach(b => {
                b.disabled = true;
                if (b.textContent === answer) {
                    b.classList.add('bg-blue-100', 'border-blue-400');
                }
            });

            const q = currentQuestions[currentQuestionIndex];
            const isCorrect = answer === q.answer;
            if (isCorrect) score++;

            showFeedbackAndNextButton(isCorrect, q.explanation);
        }

        function showFeedbackAndNextButton(isCorrect, explanation) {
            const correctText = `ì •ë‹µ! ğŸ‰ ${explanation}`;
            const incorrectText = `ì˜¤ë‹µ! ${explanation}`;
            
            feedbackEl.innerHTML = isCorrect 
                ? `<p class="font-bold text-green-500">${correctText}</p>`
                : `<p class="font-bold text-red-500">${incorrectText}</p>`;

            const nextButton = document.createElement('button');
            nextButton.textContent = 'ë‹¤ìŒ ë¬¸ì œ â†’';
            nextButton.className = "mt-4 bg-slate-600 hover:bg-slate-700 text-white font-bold py-2 px-6 rounded-lg transition-transform transform hover:scale-105";
            nextButton.onclick = () => {
                currentQuestionIndex++;
                loadNextQuestion();
            };
            feedbackEl.appendChild(nextButton);
        }

        function showEndScreen() {
            const percentage = currentQuestions.length > 0 ? Math.round((score / currentQuestions.length) * 100) : 0;
            scoreEl.textContent = `${percentage}%`;
            showScreen('end-screen');
        }

    </script>
</body>
</html>

