<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>í•œêµ­ì–´ ë“£ê¸° í€´ì¦ˆ</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Noto Sans KR', sans-serif;
            touch-action: manipulation;
        }
        .quiz-screen { display: none; }
        .quiz-screen.active { display: block; }
        .option-btn {
            display: flex;
            align-items: center;
            width: 100%;
            padding: 1rem;
            border: 2px solid #e5e7eb; /* cool-gray-200 */
            border-radius: 0.5rem;
            text-align: left;
            font-size: 1.125rem; /* text-lg */
            font-weight: 500;
            transition: all 0.2s ease-in-out;
            cursor: pointer;
        }
        .option-btn:hover {
            border-color: #60a5fa; /* blue-400 */
            background-color: #eff6ff; /* blue-50 */
        }
        .option-btn.selected {
            border-color: #3b82f6; /* blue-600 */
            background-color: #dbeafe; /* blue-200 */
        }
        .option-num {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 2rem;
            height: 2rem;
            margin-right: 0.75rem;
            border: 2px solid #9ca3af; /* cool-gray-400 */
            border-radius: 9999px;
            font-weight: 700;
        }
    </style>
</head>
<body class="bg-slate-100 flex items-center justify-center min-h-screen p-4">

    <div id="app-container" class="w-full max-w-lg mx-auto bg-white rounded-2xl shadow-xl p-6 md:p-8">

        <!-- ì‹œì‘ í™”ë©´ -->
        <div id="start-screen" class="quiz-screen active text-center">
            <h1 class="text-3xl font-bold text-slate-800 mb-2">í•œêµ­ì–´ ë“£ê¸° í€´ì¦ˆ</h1>
            <p class="text-center text-slate-500 mb-8">ì•Œë§ì€ ë‹µì„ ê³ ë¥´ì„¸ìš”.</p>
            <button onclick="startQuiz()" class="w-full bg-emerald-500 hover:bg-emerald-600 text-white font-bold py-4 px-4 rounded-lg text-lg transition-transform transform hover:scale-105 shadow-md">
                í€´ì¦ˆ ì‹œì‘í•˜ê¸°
            </button>
        </div>

        <!-- í€´ì¦ˆ í™”ë©´ -->
        <div id="quiz-screen" class="quiz-screen">
            <div class="flex items-center justify-between mb-4">
                <h2 id="question-title" class="text-xl font-bold text-slate-700"></h2>
                <div id="quiz-progress" class="text-lg font-semibold text-slate-500"></div>
            </div>
             <div id="script-button-container" class="text-right mb-4"></div>
            <div id="options" class="space-y-3 mt-8"></div>
            <div id="feedback" class="mt-6 text-center text-md min-h-[6rem]"></div>
        </div>

        <!-- ì¢…ë£Œ í™”ë©´ -->
        <div id="end-screen" class="quiz-screen text-center">
            <h2 class="text-3xl font-bold text-slate-800 mb-4">í€´ì¦ˆ ì™„ë£Œ!</h2>
            <div class="bg-emerald-50 p-6 rounded-lg mb-6">
                <p class="text-lg text-slate-600">ìµœì¢… ì ìˆ˜</p>
                <p id="score" class="text-6xl font-bold text-emerald-500 my-2"></p>
            </div>
            <button onclick="startQuiz()" class="w-full bg-gray-700 hover:bg-gray-800 text-white font-bold py-3 px-4 rounded-lg text-lg transition-transform transform hover:scale-105 shadow-md">
                ë‹¤ì‹œ í’€ê¸°
            </button>
        </div>
    </div>

    <!-- Script Modal -->
    <div id="script-modal" class="hidden fixed inset-0 bg-black bg-opacity-60 flex items-start justify-center p-4 pt-20 z-50">
        <div class="bg-white rounded-lg shadow-xl w-full max-w-lg p-6 relative animate-fade-in-up">
            <h3 class="text-2xl font-bold mb-4 text-slate-800">ëŒ€ë³¸</h3>
            <pre id="script-content" class="bg-slate-100 p-4 rounded text-slate-800 whitespace-pre-wrap text-base md:text-lg leading-relaxed max-h-[60vh] overflow-y-auto"></pre>
            <button onclick="hideScriptModal()" class="absolute top-3 right-3 text-slate-400 hover:text-slate-800 bg-slate-100 rounded-full p-1 transition">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" /></svg>
            </button>
        </div>
    </div>
    
    <style>
        @keyframes fade-in-up {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .animate-fade-in-up {
            animation: fade-in-up 0.3s ease-out forwards;
        }
    </style>

    <script>
        const questions = [
            { number: 1, title: "ë“¤ì€ ë‚´ìš©ê³¼ ê°™ì€ ê²ƒì„ ê³ ë¥´ì„¸ìš”.", options: ["ì¢‹ì•„ìš”", "ì£¼ì–´ìš”", "ì¶”ì–´ìš”", "ì¶”ì›Œìš”"], answer: "ì¢‹ì•„ìš”", script: "ë‚ ì”¨ê°€ ì¢‹ì•„ìš”." },
            { number: 2, title: "ë“¤ì€ ë‚´ìš©ê³¼ ê°™ì€ ê²ƒì„ ê³ ë¥´ì„¸ìš”.", options: ["ì‚¬ì…¨ì–´ìš”", "ì‰¬ì—ˆì–´ìš”", "ì¶”ì› ì–´ìš”", "ì‹œì›í•´ìš”"], answer: "ì‰¬ì—ˆì–´ìš”", script: "ì£¼ë§ì— ì¢€ ì‰¬ì—ˆì–´ìš”." },
            { number: 3, title: "ë“¤ì€ ë‚´ìš©ê³¼ ê°™ì€ ê²ƒì„ ê³ ë¥´ì„¸ìš”.", options: ["ë‚¨ì‚°ì—", "ë‹¤ìŒì—", "ë§ˆìŒì—", "ìš”ì¦˜ì—"], answer: "ë‹¤ìŒì—", script: "ë‹¤ìŒì— ë˜ ì˜¬ê¹Œìš”?" },
            { number: 4, title: "ë“¤ì€ ëŒ€í™”ì— ì´ì–´ì§ˆ ì•Œë§ì€ ëŒ€ë‹µì„ ê³ ë¥´ì„¸ìš”.", options: ["ì‹œí—˜ì„ ë´¤ì–´ìš”.", "ì¢€ ì–´ë ¤ì› ì–´ìš”.", "ê³µë¶€ë¥¼ ë§ì´ í–ˆì–´ìš”.", "ì‹œí—˜ì„ ë³´ê³  ì¤ì–´ìš”."], answer: "ì¢€ ì–´ë ¤ì› ì–´ìš”.", script: "ë‚¨: ì‹œí—˜ì´ ì–´ë• ì–´ìš”?\nì—¬: ?" },
            { number: 5, title: "ë“¤ì€ ëŒ€í™”ì— ì´ì–´ì§ˆ ì•Œë§ì€ ëŒ€ë‹µì„ ê³ ë¥´ì„¸ìš”.", options: ["ë„¤, ê·¸ë˜ì„œ ìš”ì¦˜ ìì£¼ ì™€ìš”.", "ì•„ë‹ˆìš”, í•­ìƒ ì‹ë‹¹ì— ê°€ìš”.", "ë„¤, ê°’ì€ ì‹¸ì§€ë§Œ ë§›ì€ ì—†ë„¤ìš”.", "ì•„ë‹ˆìš”, ì €ëŠ” ì§‘ì—ì„œ ë°¥ì„ ë¨¹ì–´ìš”."], answer: "ë„¤, ê·¸ë˜ì„œ ìš”ì¦˜ ìì£¼ ì™€ìš”.", script: "ì—¬: ì´ ì‹ë‹¹ ìŒì‹ ì •ë§ ë§›ìˆë„¤ìš”.\në‚¨: ?" },
            { number: 6, title: "ë“¤ì€ ëŒ€í™”ì— ì´ì–´ì§ˆ ì•Œë§ì€ ëŒ€ë‹µì„ ê³ ë¥´ì„¸ìš”.", options: ["ì˜í™” ë³¼ê¹Œìš”?", "ê°ˆë¹„íƒ• ë¨¹ì„ê¹Œìš”?", "ì»¤í”¼ë„ ë§ˆì…¨ì–´ìš”.", "ìŒì‹ì´ ë„ˆë¬´ ë¹„ì‹¸ìš”."], answer: "ì˜í™” ë³¼ê¹Œìš”?", script: "ë‚¨: ë°¥ ë¨¹ê³  ë­ í• ê¹Œìš”?\nì—¬: ?" },
            { number: 7, title: "ë“¤ì€ ëŒ€í™”ì— ì´ì–´ì§ˆ ì•Œë§ì€ ëŒ€ë‹µì„ ê³ ë¥´ì„¸ìš”.", options: ["ë„¤, ì•ˆ ì¶”ì›Œìš”.", "ì•„ë‹ˆìš”, ëˆˆì´ ì•ˆ ì™€ìš”.", "ë„¤, ì¶¥ê³  ëˆˆë„ ë§ì´ ì™€ìš”.", "ì•„ë‹ˆìš”, ì¶¥ì§€ë§Œ ìŠ¤í‚¤ë¥¼ íƒ€ìš”."], answer: "ë„¤, ì¶¥ê³  ëˆˆë„ ë§ì´ ì™€ìš”.", script: "ì—¬: ë² ì´ì§•ë„ ìš”ì¦˜ ë‚ ì”¨ê°€ ì¶”ì›Œìš”?\në‚¨: ?" },
            { number: 8, title: "ë“¤ì€ ëŒ€í™”ì— ì´ì–´ì§ˆ ì•Œë§ì€ ëŒ€ë‹µì„ ê³ ë¥´ì„¸ìš”.", options: ["ë„¤, í•œêµ­ ë…¸ë˜ê°€ ì •ë§ ì¢‹ì•„ìš”.", "ì•„ë‹ˆìš”, ë…¸ë˜ë°©ì—ëŠ” ì•ˆ ê°€ìš”.", "ë„¤, ì§‘ì—ì„œ í…”ë ˆë¹„ì „ì„ ë´ìš”.", "ì•„ë‹ˆìš”, í•œêµ­ ë‰´ìŠ¤ëŠ” ì•ˆ ë“¤ì–´ìš”."], answer: "ë„¤, í•œêµ­ ë…¸ë˜ê°€ ì •ë§ ì¢‹ì•„ìš”.", script: "ë‚¨: í•œêµ­ ë…¸ë˜ë¥¼ ë§ì´ ë“¤ì–´ìš”?\nì—¬: ?" },
            { number: 9, title: "ì—¬ê¸°ëŠ” ì–´ë””ì…ë‹ˆê¹Œ?", options: ["ê·¹ì¥", "ì‹œì¥", "ì‹ë‹¹", "ì»¤í”¼ìˆ"], answer: "ì‹œì¥", script: "ë‚¨: ì•„ì£¼ë¨¸ë‹ˆ, ì´ê²Œ ë§›ìˆì–´ìš”, ì €ê²Œ ë§›ìˆì–´ìš”?\nì—¬: ì¢€ ë¹„ì‹¸ì§€ë§Œ ì´ ì‚¬ê³¼ê°€ ë§›ìˆì–´ìš”. ì´ê±° ì‚¬ì„¸ìš”.\në‚¨: ë„¤, ê·¸ëŸ¼ ì´ê±° ë‹¤ì„¯ ê°œ ì£¼ì„¸ìš”." },
            { number: 10, title: "ì—¬ê¸°ëŠ” ì–´ë””ì…ë‹ˆê¹Œ?", options: ["êµì‹¤", "ê³µì›", "ë„ì„œê´€", "ë°±í™”ì "], answer: "ê³µì›", script: "ë‚¨: ì—¬ê¸° ìì „ê±°ê°€ ìˆë„¤ìš”. ìš°ë¦¬ ìì „ê±° íƒˆê¹Œìš”?\nì—¬: ì €ëŠ” ì¡°ê¸ˆ í”¼ê³¤í•´ìš”.\në‚¨: ê·¸ë˜ìš”? ê·¸ëŸ¼ ì¢€ ì‰´ê¹Œìš”?\nì—¬: ë„¤. ì €ê¸° ë‚˜ë¬´ ë°‘ì— ì˜ìê°€ ìˆë„¤ìš”. ìš°ë¦¬ ì €ê¸° ì•‰ì•„ìš”." },
            { number: 11, title: "ë¬´ì—‡ì— ëŒ€í•´ ì´ì•¼ê¸°í•©ë‹ˆê¹Œ?", options: ["ë‚ ì”¨", "ìš”ì¼", "ìŒì‹", "ê°€ê²Œ"], answer: "ìŒì‹", script: "ë‚¨: ë­˜ ë¨¹ì„ê¹Œìš”?\nì—¬: ì—¬ê¸°ëŠ” ëƒ‰ë©´ì´ ì‹œì›í•˜ê³  ë§›ìˆì–´ìš”.\në‚¨: ê·¸ëŸ°ë° ì €, ì–´ì œ ëƒ‰ë©´ì„ ë¨¹ì—ˆì–´ìš”.\nì—¬: ê·¸ë˜ìš”? ê·¸ëŸ¼ ìš°ë¦¬ ê°ˆë¹„íƒ• ë¨¹ì–´ìš”." },
            { number: 12, title: "ë¬´ì—‡ì— ëŒ€í•´ ì´ì•¼ê¸°í•©ë‹ˆê¹Œ?", options: ["ê³µë¶€", "ìˆ™ì œ", "ì£¼ë§", "ì¹œêµ¬"], answer: "ê³µë¶€", script: "ë‚¨: í•œêµ­ì–´ ê³µë¶€ ì •ë§ ì–´ë µë„¤ìš”.\nì—¬: ë„¤, ì •ë§ ê·¸ë˜ìš”. ìš°ë¦¬ ë‚´ì¼ ë„ì„œê´€ì—ì„œ ê°™ì´ ê³µë¶€í• ê¹Œìš”?\në‚¨: ì¢‹ì•„ìš”. í•œêµ­ì–´ ì±…ë„ ì½ê³  ì‹œí—˜ê³µë¶€ë„ ê°™ì´ í•´ìš”." },
            { number: 13, title: "ë“¤ì€ ë‚´ìš©ê³¼ ê°™ì€ ê²ƒì„ ê³ ë¥´ì„¸ìš”.", options: ["ë¶€ì‚°ì€ ë§‘ì•„ìš”.", "ë¶€ì‚°ì€ ì¶”ì›Œìš”.", "ë¶€ì‚°ì€ ë¥ê³  ë¹„ê°€ ì™€ìš”.", "ë¶€ì‚°ì€ ë¹„ê°€ ì•ˆ ì™€ìš”."], answer: "ë¶€ì‚°ì€ ë¥ê³  ë¹„ê°€ ì™€ìš”.", script: "ì—¬: ë¶€ì‚°ì€ ì˜¤ëŠ˜ ë‚ ì”¨ê°€ ì–´ë•Œìš”?\në‚¨: ë”ì›Œìš”.\nì—¬: ê·¸ë˜ìš”? ë¹„ë„ ì™€ìš”?\në‚¨: ë„¤, ë¹„ë„ ë§ì´ ì™€ìš”." },
            { number: 14, title: "ë“¤ì€ ë‚´ìš©ê³¼ ê°™ì€ ê²ƒì„ ê³ ë¥´ì„¸ìš”.", options: ["ì˜í™”ë¥¼ ë³¼ ê±°ì˜ˆìš”.", "ì¼€ì´í¬ë¥¼ ì‚´ ê±°ì˜ˆìš”.", "ì»¤í”¼ë¥¼ ë§ˆì‹¤ ê±°ì˜ˆìš”.", "í‘œë¥¼ ì‚´ ê±°ì˜ˆìš”."], answer: "ì»¤í”¼ë¥¼ ë§ˆì‹¤ ê±°ì˜ˆìš”.", script: "ì—¬1: ì–´, ì´ ì˜í™”ëŠ” í‘œê°€ ì—†ë„¤ìš”.\nì—¬2: ìš”ì¦˜ ì‚¬ëŒë“¤ì´ ì´ ì˜í™”ë¥¼ ë§ì´ ë´ìš”.\nì—¬1: ê·¸ëŸ¼, ìš°ë¦¬ ì € ì˜í™” ë³¼ê¹Œìš”?\nì—¬2: ê¸€ì„ìš”, ìš°ë¦¬ ì˜í™”ëŠ” ë‹¤ìŒì— ë³´ê³  ì»¤í”¼ ë§ˆì…”ìš”.\nì—¬1: ê·¸ë˜ìš”. ì»¤í”¼ë„ ë§ˆì‹œê³  ì¼€ì´í¬ë„ ë¨¹ì–´ìš”." },
            { number: 15, title: "ë“¤ì€ ë‚´ìš©ê³¼ ê°™ì€ ê²ƒì„ ê³ ë¥´ì„¸ìš”.", options: ["ìŠ¤í‚¤ì¥ì— ê°ˆ ê±°ì˜ˆìš”.", "ì‡¼í•‘ì„ í•  ê±°ì˜ˆìš”.", "ì§‘ì—ì„œ ì‰´ ê±°ì˜ˆìš”.", "ëª…ë™ì— ê°ˆ ê±°ì˜ˆìš”."], answer: "ì§‘ì—ì„œ ì‰´ ê±°ì˜ˆìš”.", script: "ì—¬: ì£¼ë§ì— ìŠ¤í‚¤ì¥ì— ê°ˆê¹Œìš”?\në‚¨: ë‚ ì”¨ê°€ ë„ˆë¬´ ì¶”ì›Œìš”. ê±°ê¸°ëŠ” ëˆˆë„ ë§ì´ ì™€ìš”.\nì—¬: ê·¸ëŸ¼ ë°±í™”ì ì— ê°ˆê¹Œìš”?\në‚¨: ì§€ë‚œ ì£¼ë§ì—ë„ ì‡¼í•‘í–ˆì–´ìš”. ëª…ë™ì—ì„œ ê°€ë°©ë„ ì‚¬ê³  ì˜·ë„ ìƒ€ì–´ìš”.\nì—¬: ê·¸ëŸ¼ ë­˜ í• ê¹Œìš”?\në‚¨: ì§‘ì—ì„œ ì‰¬ì–´ìš”. ë‚®ì ë„ ìê³ .\nì—¬: ê·¸ë˜ìš”, ê·¸ëŸ¼." },
            { number: 16, title: "ë“¤ì€ ë‚´ìš©ê³¼ ê°™ì€ ê²ƒì„ ê³ ë¥´ì„¸ìš”.", options: ["ë–¡ë³¶ì´ê°€ ì•ˆ ë§¤ì›Œìš”.", "ë–¡ë³¶ì´ê°€ ë§›ì´ ì—†ì–´ìš”.", "ì—¬ìëŠ” ë–¡ë³¶ì´ë¥¼ ì¢‹ì•„í•´ìš”.", "ë‚¨ìëŠ” ë–¡ë³¶ì´ë¥¼ ì•ˆ ë¨¹ì–´ìš”."], answer: "ì—¬ìëŠ” ë–¡ë³¶ì´ë¥¼ ì¢‹ì•„í•´ìš”.", script: "ì—¬: ìš°ë¦¬ ë–¡ë³¶ì´ ë¨¹ì„ê¹Œìš”?\në‚¨: ë–¡ë³¶ì´ ì¢‹ì•„í•´ìš”?\nì—¬: ë„¤, ì•„ì£¼ ì¢‹ì•„í•´ìš”.\në‚¨: ì•ˆ ë§¤ì›Œìš”?\nì—¬: ì¢€ ë§µì§€ë§Œ ì •ë§ ë§›ìˆì–´ìš”.\në‚¨: ì¢‹ì•„ìš”. ê·¸ëŸ¼ ë–¡ë³¶ì´ ë¨¹ì–´ìš”." },
            { number: 17, title: "ë“¤ì€ ë‚´ìš©ê³¼ ê°™ì€ ê²ƒì„ ê³ ë¥´ì„¸ìš”.", options: ["ë‚¨ìí•˜ê³  ì—¬ìëŠ” ì°¨ë¥¼ ë§ˆì…”ìš”.", "ì—¬ìëŠ” ì—¬ê¸°ì— ìì£¼ ì™”ì–´ìš”.", "ì¸ì‚¬ë™ì€ í•­ìƒ ì‚¬ëŒì´ ì—†ì–´ìš”.", "ë‚¨ìí•˜ê³  ì—¬ìëŠ” ê·¸ë¦‡ì„ êµ¬ê²½í•  ê±°ì˜ˆìš”."], answer: "ë‚¨ìí•˜ê³  ì—¬ìëŠ” ê·¸ë¦‡ì„ êµ¬ê²½í•  ê±°ì˜ˆìš”.", script: "ë‚¨: ì—¬ê¸°ê°€ ì¸ì‚¬ë™ì´ë„¤ìš”.\nì—¬: ì™€, ì •ë§ ì‚¬ëŒì´ ë§ë„¤ìš”.\në‚¨: ë„¤, ì—¬ê¸°ëŠ” í•­ìƒ ì‚¬ëŒì´ ë§ì•„ìš”.\nì—¬: ì €ê¸° ì°»ì§‘ì´ ìˆë„¤ìš”. ì €ê¸°ì—ì„œ ì°¨ë¥¼ ë§ˆì‹¤ê¹Œìš”?\në‚¨: ì €ê¸°ëŠ” ì°»ì§‘ì´ ì•„ë‹ˆì—ìš”. ê·¸ë¦‡ ê°€ê²Œì˜ˆìš”.\nì—¬: ì•„, ê·¸ë˜ìš”? ê·¸ëŸ¼ ìš°ë¦¬ ê·¸ë¦‡ êµ¬ê²½ ì¢€ í•´ìš”.\në‚¨: ì¢‹ì•„ìš”." },
            { number: 18, title: "ë“¤ì€ ë‚´ìš©ê³¼ ê°™ì€ ê²ƒì„ ê³ ë¥´ì„¸ìš”.", options: ["ì—¬ìëŠ” ë†êµ¬ë¥¼ ì¢‹ì•„í•´ìš”.", "ì—¬ìëŠ” ì¶•êµ¬ë¥¼ ìì£¼ í–ˆì–´ìš”.", "ë‚¨ìëŠ” ì£¼ë§ì— ìš´ë™ì„ ì•ˆ í•´ìš”.", "ë‚¨ìëŠ” ì—¬ìì™€ í…Œë‹ˆìŠ¤ë¥¼ ì¹  ê±°ì˜ˆìš”."], answer: "ë‚¨ìëŠ” ì—¬ìì™€ í…Œë‹ˆìŠ¤ë¥¼ ì¹  ê±°ì˜ˆìš”.", script: "ì—¬: ë¬´ìŠ¨ ìš´ë™ì„ ì¢‹ì•„í•´ìš”?\në‚¨: ë†êµ¬ë„ ì¢‹ì•„í•˜ê³  ì¶•êµ¬ë„ ì¢‹ì•„í•´ìš”.\nì—¬: ê·¸ë˜ìš”? ê·¸ëŸ¼ ìš´ë™ì„ ìì£¼ í•´ìš”?\në‚¨: ê·¸ëŸ¼ìš”. ì¹œêµ¬í•˜ê³  ê°™ì´ ë†êµ¬ë„ í•˜ê³  ì£¼ë§ì—ëŠ” í…Œë‹ˆìŠ¤ë„ ì³ìš”.\nì—¬: í…Œë‹ˆìŠ¤ìš”? ì €ë„ í…Œë‹ˆìŠ¤ë¥¼ ì¢‹ì•„í•´ìš”.\në‚¨: ê·¸ë˜ìš”? ê·¸ëŸ¼ ì´ë²ˆ ì£¼ë§ì— ê°™ì´ í…Œë‹ˆìŠ¤ ì³ìš”.\nì—¬: ë„¤, ì¢‹ì•„ìš”." },
            { number: 19, title: "ë“¤ì€ ë‚´ìš©ê³¼ ê°™ì€ ê²ƒì„ ê³ ë¥´ì„¸ìš”.", options: ["ì—¬ìëŠ” ì˜¤ëŠ˜ ë…¸ë˜ë°©ì— ê°ˆ ìˆ˜ ì—†ì–´ìš”.", "ë‚¨ìëŠ” ì˜¤ëŠ˜ í˜¼ì ë…¸ë˜ë°©ì— ê°€ìš”.", "ì—¬ìëŠ” ë‹¤ìŒì— ë‚¨ì ì¹œêµ¬ë¥¼ ë§Œë‚˜ìš”.", "ì—¬ìí•˜ê³  ë‚¨ìëŠ” ì˜¤ëŠ˜ ì €ë…ì„ ê°™ì´ ë¨¹ì–´ìš”."], answer: "ì—¬ìëŠ” ì˜¤ëŠ˜ ë…¸ë˜ë°©ì— ê°ˆ ìˆ˜ ì—†ì–´ìš”.", script: "ë‚¨: ì˜¤ëŠ˜ ìˆ˜ì—… ëë‚˜ê³  ë­ í•´ìš”? ìš°ë¦¬ ê°™ì´ ë…¸ë˜ë°©ì— ê°ˆê¹Œìš”? ìŠ¤í‹°ë¸ ì”¨ë„ ê°€ê³  ì¤„ë¦¬ì•™ ì”¨ë„ ê°€ìš”.\nì—¬: ë¯¸ì•ˆí•˜ì§€ë§Œ ì˜¤ëŠ˜ì€ ë‚¨ì ì¹œêµ¬í•˜ê³  ì•½ì†ì´ ìˆì–´ìš”.\në‚¨: ê·¸ë˜ìš”? ê·¸ëŸ¼ ë‹¤ìŒì— ê°™ì´ ê°€ìš”.\nì—¬: ë„¤, ë‹¤ìŒì—ëŠ” ë°¥ë„ ê°™ì´ ë¨¹ì–´ìš”." },
            { number: 20, title: "ë“¤ì€ ë‚´ìš©ê³¼ ê°™ì€ ê²ƒì„ ê³ ë¥´ì„¸ìš”.", options: ["ì—¬ìì˜ ê³ í–¥ì€ ë¹„ê°€ ìì£¼ ì™€ìš”.", "ì—¬ìì˜ ê³ í–¥ì€ ê²¨ìš¸ì— ì¶”ì›Œìš”.", "ì—¬ìëŠ” í•œêµ­ì—ì„œ ëˆˆì„ ì²˜ìŒ ë´¤ì–´ìš”.", "ì—¬ìëŠ” ì‚¬ì§„ ì°ëŠ” ê²ƒì„ ì•ˆ ì¢‹ì•„í•´ìš”."], answer: "ì—¬ìëŠ” í•œêµ­ì—ì„œ ëˆˆì„ ì²˜ìŒ ë´¤ì–´ìš”.", script: "ë‚¨: í˜¸ì´ì—” ì”¨ ê³ í–¥ì€ ë‚ ì”¨ê°€ ì–´ë•Œìš”?\nì—¬: ë”ì›Œìš”. ì—¬ë¦„ì—ëŠ” ì•„ì£¼ ë¥ê³  ë¹„ë„ ìì£¼ ì™€ìš”.\në‚¨: ê²¨ìš¸ì€ ì—†ì–´ìš”?\nì—¬: ì•„ë‹ˆìš”. ê²¨ìš¸ì´ ìˆì§€ë§Œ ì¶¥ì§€ ì•Šì•„ìš”. ê·¸ë˜ì„œ ëˆˆì€ ì•ˆ ì™€ìš”.\në‚¨: ê·¸ëŸ¼ í•œêµ­ì—ì„œ ëˆˆì„ ì²˜ìŒ ë´¤ì–´ìš”?\nì—¬: ë„¤. ê·¸ë˜ì„œ ì‚¬ì§„ë„ ë§ì´ ì°ì—ˆì–´ìš”. ì •ë§ ì¬ë¯¸ìˆì—ˆì–´ìš”." }
        ];

        let currentQuestions = [];
        let currentQuestionIndex = 0;
        let score = 0;
        let isAnswered = false;

        const startScreen = document.getElementById('start-screen');
        const quizScreen = document.getElementById('quiz-screen');
        const endScreen = document.getElementById('end-screen');
        const questionTitleEl = document.getElementById('question-title');
        const progressEl = document.getElementById('quiz-progress');
        const optionsEl = document.getElementById('options');
        const feedbackEl = document.getElementById('feedback');
        const scoreEl = document.getElementById('score');
        const scriptButtonContainer = document.getElementById('script-button-container');

        function showScreen(screenId) {
            document.querySelectorAll('.quiz-screen').forEach(screen => screen.classList.remove('active'));
            document.getElementById(screenId).classList.add('active');
        }
        
        function startQuiz() {
            currentQuestions = [...questions]; // ìˆœì„œëŒ€ë¡œ ë¬¸ì œë¥¼ ë¶ˆëŸ¬ì˜µë‹ˆë‹¤.
            currentQuestionIndex = 0;
            score = 0;
            showScreen('quiz-screen');
            loadNextQuestion();
        }
        
        function revealThenCheck(button, option) {
            if (isAnswered) return;

            if (button.dataset.revealed === 'false') {
                // ì²« í´ë¦­: ë³´ê¸° ë‚´ìš© í‘œì‹œ
                const textSpan = button.querySelector('span:last-child');
                textSpan.textContent = option;
                button.dataset.revealed = 'true';
            } else {
                // ë‘ ë²ˆì§¸ í´ë¦­: ì •ë‹µ í™•ì¸
                checkAnswer(button, option);
            }
        }

        function loadNextQuestion() {
            if (currentQuestionIndex >= currentQuestions.length) {
                showEndScreen();
                return;
            }
            isAnswered = false;
            feedbackEl.innerHTML = '';
            scriptButtonContainer.innerHTML = '';
            optionsEl.innerHTML = '';
            
            const q = currentQuestions[currentQuestionIndex];
            questionTitleEl.innerHTML = `<span class="text-slate-500 font-medium mr-2">${q.number}.</span> ${q.title}`;
            progressEl.textContent = `${currentQuestionIndex + 1} / ${currentQuestions.length}`;

            // 'ëŒ€ë³¸ ë³´ê¸°' ë²„íŠ¼ í•­ìƒ í‘œì‹œ
            const scriptButton = document.createElement('button');
            scriptButton.textContent = 'ëŒ€ë³¸ ë³´ê¸°';
            scriptButton.className = "bg-sky-500 hover:bg-sky-600 text-white font-bold py-2 px-4 rounded-lg transition-transform transform hover:scale-105 text-sm";
            scriptButton.onclick = () => showScriptModal(currentQuestionIndex);
            scriptButtonContainer.appendChild(scriptButton);
            
            q.options.forEach((option, index) => {
                const button = document.createElement('button');
                button.className = 'option-btn';

                if (q.number >= 4 && q.number <= 8) {
                    button.innerHTML = `<span class="option-num">${index + 1}</span> <span>[ë³´ê¸°]</span>`;
                    button.dataset.revealed = 'false';
                    button.onclick = () => revealThenCheck(button, option);
                } else {
                    button.innerHTML = `<span class="option-num">${index + 1}</span> <span>${option}</span>`;
                    button.onclick = () => checkAnswer(button, option);
                }
                
                optionsEl.appendChild(button);
            });
        }

        function checkAnswer(selectedButton, answer) {
            if (isAnswered) return;
            isAnswered = true;
            
            selectedButton.classList.add('selected');
            optionsEl.querySelectorAll('button').forEach(b => b.disabled = true);

            const q = currentQuestions[currentQuestionIndex];
            const isCorrect = answer === q.answer;
            if (isCorrect) score++;

            showFeedbackAndNextButton(isCorrect, q.answer);
        }



        function showFeedbackAndNextButton(isCorrect, correctAnswer) {
            const correctText = `ì •ë‹µ! ğŸ‰`;
            const incorrectText = `ì˜¤ë‹µ! ì •ë‹µì€ '${correctAnswer}'ì…ë‹ˆë‹¤.`;
            
            feedbackEl.innerHTML = isCorrect 
                ? `<p class="font-bold text-green-500">${correctText}</p>`
                : `<p class="font-bold text-red-500">${incorrectText}</p>`;

            const nextButton = document.createElement('button');
            nextButton.textContent = 'ë‹¤ìŒ ë¬¸ì œ â†’';
            nextButton.className = "mt-4 bg-slate-600 hover:bg-slate-700 text-white font-bold py-2 px-5 rounded-lg transition-transform transform hover:scale-105";
            nextButton.onclick = () => {
                currentQuestionIndex++;
                loadNextQuestion();
            };
            feedbackEl.appendChild(nextButton);
        }

        function showScriptModal(index) {
            const scriptContent = document.getElementById('script-content');
            const q = currentQuestions[index];
            scriptContent.textContent = q.script;
            document.getElementById('script-modal').classList.remove('hidden');
        }

        function hideScriptModal() {
            document.getElementById('script-modal').classList.add('hidden');
        }

        function showEndScreen() {
            const percentage = Math.round((score / currentQuestions.length) * 100);
            scoreEl.textContent = `${percentage}%`;
            showScreen('end-screen');
        }
    </script>
</body>
</html>

